import{_ as w,d as v,c as _,a as e,J as A,C as k,r as b,o as $,i as y,U as g,a5 as h,X as m,a6 as p,a2 as M,$ as j,f as S,M as O,a7 as D,a8 as z}from"./main.Dqpd9PAW.js";import{U as q}from"./UploadIcon.C2D50cAV.js";const I={class:"modal-content m-0 p-0 has-background-black"},B={__name:"ModalComp",props:{show:{type:Boolean,required:!0}},emits:["close"],setup(u,{emit:n}){const i=u,t=n;return(o,l)=>(v(),_("div",{class:k(["modal",{"is-active":i.show}])},[e("div",{class:"modal-background",onClick:l[0]||(l[0]=s=>t("close"))}),e("div",I,[A(o.$slots,"default",{},void 0,!0)]),e("button",{class:"modal-close is-large","aria-label":"close",onClick:l[1]||(l[1]=s=>t("close"))})],2))}},ps=w(B,[["__scopeId","data-v-5ed21c08"]]);class L extends Array{}const N={class:"file has-name is-boxed is-fullwidth"},P={class:"file-label"},J={class:"file-cta"},T={class:"file-icon"},H={class:"file-name has-text-centered"},E={__name:"Form-bgrem",emits:["submit","updateForm"],setup(u,{emit:n}){const i=n,t=b({base_image:{default:null,value:null,required:!0,validator:l=>l!==null&&l.size>0}}),o=()=>i("submit",t.value);return $(()=>{i("updateForm",t.value)}),(l,s)=>{var a;return v(),_("form",{onSubmit:h(o,["prevent"])},[e("div",N,[e("label",P,[e("input",{class:"file-input",type:"file",id:"base_image",name:"base_image",onChange:s[0]||(s[0]=r=>t.value.base_image.value=r.target.files[0]),accept:"image/png,image/jpeg",required:""},null,32),e("span",J,[e("span",T,[y(q)]),s[1]||(s[1]=e("span",{class:"file-label has-text-centered"},"Choose a file…",-1))]),e("span",H,g((a=t.value.base_image.value)==null?void 0:a.name),1)])])],32)}}},G={class:"field"},R={class:"control"},X={class:"mb-3 p-2"},Z={class:"mt-2"},K={class:"field"},Q={class:"control"},W={class:"field"},Y={class:"control"},ee={__name:"Form-elevenlabs_sf",emits:["submit","updateForm"],setup(u,{emit:n}){const i=n,t=b({prompt:{default:"",value:"",required:!0,validator:l=>l.trim()!==""},duration:{default:2,value:2,validator:l=>l>0},adherance:{default:.3,value:.3,validator:l=>l>0}}),o=()=>i("submit",t.value);return $(()=>{i("updateForm",t.value)}),(l,s)=>(v(),_("form",{onSubmit:h(o,["prevent"])},[e("div",G,[s[3]||(s[3]=e("label",{class:"label",for:"prompt"},"Prompt",-1)),e("div",R,[m(e("textarea",{class:"textarea",id:"prompt",name:"prompt","onUpdate:modelValue":s[0]||(s[0]=a=>t.value.prompt.value=a),required:""},null,512),[[p,t.value.prompt.value]])])]),e("details",X,[s[6]||(s[6]=e("summary",null,"Options",-1)),e("div",Z,[e("div",K,[s[4]||(s[4]=e("label",{class:"label",for:"duration"},"Duration (Seconds)",-1)),e("div",Q,[m(e("input",{class:"input",type:"number",id:"duration",name:"duration","onUpdate:modelValue":s[1]||(s[1]=a=>t.value.duration.value=a)},null,512),[[p,t.value.duration.value]])])]),e("div",W,[s[5]||(s[5]=e("label",{class:"label",for:"adherance"},"Prompt Adherance",-1)),e("div",Y,[m(e("input",{class:"input",type:"number",id:"adherance",name:"adherance","onUpdate:modelValue":s[2]||(s[2]=a=>t.value.adherance.value=a)},null,512),[[p,t.value.adherance.value]])])])])])],32))}},se={class:"field"},te={class:"control"},ae={class:"mb-3 p-2"},le={class:"mt-2"},oe={class:"field"},ie={class:"control"},ne={class:"field"},re={class:"field has-addons"},de={class:"control"},ue={class:"button is-static"},me={class:"control is-expanded"},pe=["step","min","max"],ce={class:"field"},ve={class:"field has-addons"},_e={class:"control"},fe={class:"button is-static"},be={class:"control is-expanded"},ge=["step","min","max"],xe={__name:"Form-flux_dev",emits:["submit","updateForm"],setup(u,{emit:n}){const i=n,t=b({prompt:{default:"",value:"",required:!0,validator:l=>l.length>0},negative_prompt:{default:"",value:"",required:!1},num_inference_steps:{default:24,value:24,min:1,max:50,step:1,required:!0,validator:l=>l>=1&&l<=50},guidance_scale:{default:1,value:1,min:.5,max:1.5,step:.1,required:!0,validator:l=>l>=.5&&l<=1.5}}),o=()=>i("submit",t.value);return $(()=>{i("updateForm",t.value)}),(l,s)=>(v(),_("form",{onSubmit:h(o,["prevent"])},[e("div",se,[s[4]||(s[4]=e("label",{class:"label",for:"prompt"},"Prompt",-1)),e("div",te,[m(e("textarea",{class:"textarea",id:"prompt",name:"prompt","onUpdate:modelValue":s[0]||(s[0]=a=>t.value.prompt.value=a),required:""},null,512),[[p,t.value.prompt.value]])])]),e("details",ae,[s[8]||(s[8]=e("summary",null,"Options",-1)),e("div",le,[e("div",oe,[s[5]||(s[5]=e("label",{class:"label",for:"negative_prompt"},"Negative Prompt",-1)),e("div",ie,[m(e("textarea",{class:"textarea",id:"negative_prompt",name:"negative_prompt","onUpdate:modelValue":s[1]||(s[1]=a=>t.value.negative_prompt.value=a)},null,512),[[p,t.value.negative_prompt.value]])])]),e("div",ne,[s[6]||(s[6]=e("label",{class:"label",for:"num_inference_steps"},"Inference Steps",-1)),e("div",re,[e("p",de,[e("a",ue,g(t.value.num_inference_steps.value),1)]),e("div",me,[m(e("input",{class:"input",type:"range",id:"num_inference_steps",name:"num_inference_steps",step:t.value.num_inference_steps.step,min:t.value.num_inference_steps.min,max:t.value.num_inference_steps.max,"onUpdate:modelValue":s[2]||(s[2]=a=>t.value.num_inference_steps.value=a)},null,8,pe),[[p,t.value.num_inference_steps.value]])])])]),e("div",ce,[s[7]||(s[7]=e("label",{class:"label",for:"guidance_scale"},"Guidance Scale",-1)),e("div",ve,[e("p",_e,[e("a",fe,g(t.value.guidance_scale.value),1)]),e("div",be,[m(e("input",{class:"input",type:"range",id:"guidance_scale",name:"guidance_scale",step:t.value.guidance_scale.step,min:t.value.guidance_scale.min,max:t.value.guidance_scale.max,"onUpdate:modelValue":s[3]||(s[3]=a=>t.value.guidance_scale.value=a)},null,8,ge),[[p,t.value.guidance_scale.value]])])])])])])],32))}},$e={},he={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};function Fe(u,n){return v(),_("svg",he,n[0]||(n[0]=[e("title",null,"refresh",-1),e("path",{d:"M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z",fill:"currentColor"},null,-1)]))}const ye=w($e,[["render",Fe]]),Ce={class:"file has-name is-boxed is-fullwidth"},we={class:"file-label"},qe={class:"file-cta"},Se={class:"file-icon"},ze={class:"file-name has-text-centered"},ke={class:"mb-3 p-2"},Ue={class:"mt-2"},Ve={class:"field"},Ae={class:"field has-addons"},Me={class:"control"},je={class:"button is-static"},Oe={class:"control is-expanded"},De=["step","min","max"],Ie={class:"field"},Be={class:"field has-addons"},Le={class:"control is-expanded"},Ne={class:"control"},Pe={class:"icon"},Je={__name:"Form-im23d",emits:["submit","updateForm"],setup(u,{emit:n}){const i=n,t=()=>Math.floor(Math.random()*1e9),o=b({base_image:{default:null,value:null,required:!0,validator:s=>s!==null&&s.size>0},texture_size:{default:512,value:512,min:64,max:2048,step:64,validator:s=>s>=64&&s<=2048},seed:{default:t(),value:t(),validator:s=>s>=0}}),l=()=>i("submit",o.value);return $(()=>{i("updateForm",o.value)}),(s,a)=>{var r;return v(),_("form",{onSubmit:h(l,["prevent"])},[e("div",Ce,[e("label",we,[e("input",{class:"file-input",type:"file",id:"base_image",name:"base_image",onChange:a[0]||(a[0]=c=>o.value.base_image.value=c.target.files[0]),accept:"image/png,image/jpeg",required:""},null,32),e("span",qe,[e("span",Se,[y(q)]),a[4]||(a[4]=e("span",{class:"file-label has-text-centered"},"Choose a file…",-1))]),e("span",ze,g((r=o.value.base_image.value)==null?void 0:r.name),1)])]),a[8]||(a[8]=e("p",{class:"mb-2 has-text-centered is-size-7"},[e("span",{class:"has-text-info"},"*"),M(" For optimal results, we recommend using images with transparent backgrounds ")],-1)),e("details",ke,[a[7]||(a[7]=e("summary",null,"Options",-1)),e("div",Ue,[e("div",Ve,[a[5]||(a[5]=e("label",{class:"label",for:"texture_size"},"Texture Size",-1)),e("div",Ae,[e("p",Me,[e("a",je,g(o.value.texture_size.value),1)]),e("div",Oe,[m(e("input",{class:"input",type:"range",id:"texture_size",name:"texture_size",step:o.value.texture_size.step,min:o.value.texture_size.min,max:o.value.texture_size.max,"onUpdate:modelValue":a[1]||(a[1]=c=>o.value.texture_size.value=c)},null,8,De),[[p,o.value.texture_size.value]])])])]),e("div",Ie,[a[6]||(a[6]=e("label",{class:"label",for:"seed"},"Seed",-1)),e("div",Be,[e("div",Le,[m(e("input",{class:"input",type:"number",id:"seed",name:"seed","onUpdate:modelValue":a[2]||(a[2]=c=>o.value.seed.value=c)},null,512),[[p,o.value.seed.value]])]),e("p",Ne,[e("a",{class:"button",onClick:a[3]||(a[3]=c=>o.value.seed.value=t())},[e("span",Pe,[y(ye)])])])])])])])],32)}}},Te={class:"file has-name is-boxed is-fullwidth"},He={class:"file-label"},Ee={class:"file-cta"},Ge={class:"file-icon"},Re={class:"file-name has-text-centered"},Xe={class:"mb-3 p-2"},Ze={class:"mt-2"},Ke={class:"field"},Qe={class:"control"},We={__name:"Form-rw-im2vid",emits:["submit","updateForm"],setup(u,{emit:n}){const i=n,t=b({base_image:{default:null,value:null,required:!0,validator:l=>l!==null&&l.size>0},prompt:{default:"",value:"",required:!1}}),o=()=>i("submit",t.value);return $(()=>{i("updateForm",t.value)}),(l,s)=>{var a;return v(),_("form",{onSubmit:h(o,["prevent"])},[e("div",Te,[e("label",He,[e("input",{class:"file-input",type:"file",id:"base_image",name:"base_image",onChange:s[0]||(s[0]=r=>t.value.base_image.value=r.target.files[0]),accept:"image/png,image/jpeg",required:""},null,32),e("span",Ee,[e("span",Ge,[y(q)]),s[2]||(s[2]=e("span",{class:"file-label has-text-centered"},"Choose a file…",-1))]),e("span",Re,g((a=t.value.base_image.value)==null?void 0:a.name),1)])]),e("details",Xe,[s[4]||(s[4]=e("summary",null,"Options",-1)),e("div",Ze,[e("div",Ke,[s[3]||(s[3]=e("label",{class:"label",for:"prompt"},"Prompt",-1)),e("div",Qe,[m(e("textarea",{class:"textarea",id:"prompt",name:"prompt","onUpdate:modelValue":s[1]||(s[1]=r=>t.value.prompt.value=r),required:""},null,512),[[p,t.value.prompt.value]])])])])])],32)}}},Ye={class:"form p-4 is-flex is-flex-direction-column"},es={class:"is-flex-grow-1 is-flex is-flex-direction-column"},ss={class:"title is-4"},ts={class:"scroll-container is-flex-grow-1"},as={class:"field is-flex-shrink-1 is-grouped is-justify-content-flex-end mt-4"},ls={class:"control"},os=["disabled"],is={class:"field has-text-right"},ns={class:"control"},rs=["disabled"],ds={__name:"AppForm",props:{app:{type:Object,required:!0}},emits:["close"],setup(u,{emit:n}){const i=j(),t=n,o=u,l=S(()=>o.app.id),s=b(!1),a=S(()=>({bgrem:E,elevenlabs_sf:ee,flux_dev:xe,im23d:Je,"rw-im2vid":We})[l.value]),r=b(null),c=async()=>{try{if(s.value)return;if(s.value=!0,!U(r)){console.log("invalid form");return}const d=new FormData;d.append("appId",l.value),d.append("timeLimit",300);for(const[x,f]of Object.entries(r.value))if(f.value instanceof FileList||f.value instanceof L)for(const C of f.value)d.append("upload",C),delete r.value[x];else f.value instanceof File&&(d.append("upload",f.value),delete r.value[x]);const F=Object.entries(r.value).reduce((x,[f,C])=>(x[f]=C.value,x),{});if(d.append("meta",JSON.stringify(F)),!await i.submitJob(d)){z.error("Failed to submit job");return}z.success("Job submitted"),t("close")}catch(d){console.error(d)}finally{s.value=!1}},U=()=>Object.values(r.value).every(d=>d.validator?d.validator(d.value):!0),V=d=>{r.value=d};return(d,F)=>(v(),_("div",Ye,[e("div",es,[e("h2",ss,g(o.app.name),1),e("div",ts,[(v(),O(D(a.value),{onUpdateForm:V,onSubmit:c},null,32))])]),e("div",as,[e("div",ls,[e("button",{class:"button is-danger is-outlined",type:"button",disabled:s.value,onClick:F[0]||(F[0]=x=>d.$emit("close"))}," Cancel ",8,os)]),e("div",is,[e("div",ns,[e("button",{type:"submit",class:k(["button is-primary",{"is-loading":s.value}]),onClick:c,disabled:s.value}," Submit ",10,rs)])])])]))}},cs=w(ds,[["__scopeId","data-v-9df3ebac"]]);export{cs as A,ps as M};
//# sourceMappingURL=AppForm.B0Z_FOZC.js.map
